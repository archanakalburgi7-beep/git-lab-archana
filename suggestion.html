<!DOCTYPE html>
<html lang="mr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Suggestion Box - MindTrackAI</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f0f2f5; padding: 20px; }
        .container { max-width: 600px; margin: auto; background: white; padding: 25px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h2 { color: #4a4a4a; text-align: center; }
        
        #ai-suggestion-container { 
            background: #f9f9ff; 
            padding: 15px; 
            border-radius: 12px; 
            max-height: 500px; 
            overflow-y: auto; 
            border: 1px solid #e0e0e0;
        }

        .suggestion-card {
            background: white; 
            margin-bottom: 15px; 
            padding: 15px; 
            border-left: 6px solid #7b61ff; 
            border-radius: 8px; 
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .time-stamp { font-size: 0.8rem; color: #888; display: block; margin-bottom: 8px; font-weight: bold; }
        .lang-label { font-weight: bold; color: #7b61ff; font-size: 0.9rem; }
        .suggestion-text { font-size: 1rem; color: #333; margin: 4px 0; line-height: 1.4; }

        .btn-generate {
            display: block; width: 100%; padding: 12px; margin-top: 20px;
            background: linear-gradient(135deg, #7b61ff, #5a44cc);
            color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 1rem;
            transition: 0.3s;
        }
        .btn-generate:hover { opacity: 0.9; transform: scale(1.01); }
    </style>
</head>
<body>

<div class="container">
    <h2>üß† AI Suggestion Box</h2>
    <p style="text-align: center; color: #666;">‡§§‡•Å‡§Æ‡§ö‡•ç‡§Ø‡§æ ‡§á‡§Æ‡•ã‡§∂‡§®‡•ç‡§∏‡§µ‡§∞ ‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§∏‡§≤‡•ç‡§≤‡•á (English & Marathi)</p>
    
    <div id="ai-suggestion-container">
        <div id="suggestion-list">
            </div>
    </div>

    <button class="btn-generate" onclick="generateAISuggestion()">Get New AI Suggestion</button>
</div>

<script>
    // ‡•ß. ‡§™‡•á‡§ú ‡§≤‡•ã‡§° ‡§ù‡§æ‡§≤‡•ç‡§Ø‡§æ‡§µ‡§∞ ‡§ú‡•Å‡§®‡•á ‡§°‡•á‡§ü‡§æ ‡§¶‡§æ‡§ñ‡§µ‡§æ
    document.addEventListener('DOMContentLoaded', () => {
        const savedSuggestions = JSON.parse(localStorage.getItem('ai_history')) || [];
        // ‡§∏‡§æ‡§†‡§µ‡§≤‡•á‡§≤‡•á ‡§°‡•á‡§ü‡§æ ‡§â‡§≤‡§ü ‡§ï‡•ç‡§∞‡§Æ‡§æ‡§®‡•á ‡§¶‡§æ‡§ñ‡§µ‡§æ ‡§ú‡•á‡§£‡•á‡§ï‡§∞‡•Ç‡§® ‡§®‡§µ‡•Ä‡§® ‡§µ‡§∞ ‡§Ø‡•á‡§à‡§≤
        savedSuggestions.slice().reverse().forEach(item => addSuggestionToUI(item.text, item.time));
    });

    // ‡•®. UI ‡§Æ‡§ß‡•ç‡§Ø‡•á ‡§®‡§µ‡•Ä‡§® ‡§ï‡§æ‡§∞‡•ç‡§° ‡§ç‡§° ‡§ï‡§∞‡§æ
    function addSuggestionToUI(formattedText, time) {
        const list = document.getElementById('suggestion-list');
        const div = document.createElement('div');
        div.className = 'suggestion-card';
        
        div.innerHTML = `
            <span class="time-stamp">‚è∞ ${time}</span>
            <div class="suggestion-content">${formattedText}</div>
        `;
        
        list.prepend(div); 
    }

    // ‡•©. ‡§¨‡•Ö‡§ï‡§è‡§Ç‡§° (Flask) ‡§ï‡§°‡•á ‡§°‡•á‡§ü‡§æ ‡§™‡§æ‡§†‡§µ‡§æ
    async function sendToServer(text, time) {
        try {
            await fetch('http://127.0.0.1:5000/save-suggestion', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    user_query: "Dual Language Suggestion",
                    ai_response: text,
                    timestamp: time
                }),
            });
        } catch (error) {
            console.log("Server not running. Data saved to local storage.");
        }
    }

    // ‡•™. ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®: ‡§∏‡§ú‡•á‡§∂‡§® ‡§ú‡§®‡§∞‡•á‡§ü ‡§ï‡§∞‡§£‡•á
    function generateAISuggestion() {
        // ‡§á‡§Ç‡§ó‡•ç‡§≤‡§ø‡§∂ ‡§Ü‡§£‡§ø ‡§Æ‡§∞‡§æ‡§†‡•Ä ‡§ú‡•ã‡§°‡•ç‡§Ø‡§æ
        const dualTips = [
            {
                en: "Your stress levels are rising. Please take 5 deep breaths. üßò‚Äç‚ôÇÔ∏è",
                mr: "‡§§‡•Å‡§Æ‡§ö‡§æ ‡§§‡§æ‡§£ ‡§µ‡§æ‡§¢‡§§ ‡§Ü‡§π‡•á. ‡§ï‡•É‡§™‡§Ø‡§æ ‡•´ ‡§µ‡•á‡§≥‡§æ ‡§¶‡•Ä‡§∞‡•ç‡§ò ‡§∂‡•ç‡§µ‡§æ‡§∏ ‡§ò‡•ç‡§Ø‡§æ. üßò‚Äç‚ôÇÔ∏è"
            },
            {
                en: "Great job! Your productivity is high right now. Keep it up! ‚úÖ",
                mr: "‡§â‡§§‡•ç‡§§‡§Æ ‡§ï‡§æ‡§Æ! ‡§§‡•Å‡§Æ‡§ö‡•Ä ‡§ï‡§æ‡§∞‡•ç‡§Ø‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ ‡§∏‡§ß‡•ç‡§Ø‡§æ ‡§ö‡§æ‡§Ç‡§ó‡§≤‡•Ä ‡§Ü‡§π‡•á, ‡§π‡•á‡§ö ‡§ö‡§æ‡§≤‡•Ç ‡§†‡•á‡§µ‡§æ. ‚úÖ"
            },
            {
                en: "You seem tired. Take a quick 5-minute water break. üíß",
                mr: "‡§§‡•Å‡§Æ‡•ç‡§π‡•Ä ‡§•‡§ï‡§≤‡•á‡§≤‡•á ‡§µ‡§æ‡§ü‡§§ ‡§Ü‡§π‡§æ‡§§. ‡•´ ‡§Æ‡§ø‡§®‡§ø‡§ü‡§æ‡§Ç‡§ö‡§æ ‡§™‡§æ‡§£‡•ç‡§Ø‡§æ‡§ö‡§æ ‡§¨‡•ç‡§∞‡•á‡§ï ‡§ò‡•ç‡§Ø‡§æ. üíß"
            },
            {
                en: "Minimize distractions to improve your focus. üì±",
                mr: "‡§§‡•Å‡§Æ‡§ö‡•á ‡§≤‡§ï‡•ç‡§∑ ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞‡§ø‡§§ ‡§ï‡§∞‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä ‡§Æ‡•ã‡§¨‡§æ‡§à‡§≤ ‡§µ‡§æ‡§™‡§∞‡§£‡•á ‡§ü‡§æ‡§≥‡§æ. üì±"
            },
            {
                en: "Your mood is positive! This is the best time for deep work. üí™",
                mr: "‡§§‡•Å‡§Æ‡§ö‡§æ ‡§Æ‡•Ç‡§° ‡§∏‡§ï‡§æ‡§∞‡§æ‡§§‡•ç‡§Æ‡§ï ‡§Ü‡§π‡•á! ‡§ï‡§†‡•Ä‡§£ ‡§ï‡§æ‡§Æ‡•á ‡§ï‡§∞‡§£‡•ç‡§Ø‡§æ‡§∏‡§æ‡§†‡•Ä ‡§π‡•Ä‡§ö ‡§Ø‡•ã‡§ó‡•ç‡§Ø ‡§µ‡•á‡§≥ ‡§Ü‡§π‡•á. üí™"
            }
        ];
        
        
    }
    
</script>

</body>
</html>